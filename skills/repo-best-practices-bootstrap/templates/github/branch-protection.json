{
  "_comment": "GitHub Branch Protection API payload - for classic branch protection on existing repos",
  "_usage": "gh api repos/{owner}/{repo}/branches/main/protection --method PUT --input branch-protection.json",
  "_docs": "https://docs.github.com/en/rest/branches/branch-protection",
  "_note": "IMPORTANT: Remove all underscore-prefixed fields before API submission. GitHub API rejects unknown fields.",

  "required_status_checks": {
    "strict": true,
    "contexts": ["build", "test", "lint"]
  },
  "enforce_admins": true,
  "required_pull_request_reviews": {
    "dismiss_stale_reviews": true,
    "require_code_owner_reviews": false,
    "required_approving_review_count": 1,
    "require_last_push_approval": true
  },
  "restrictions": null,
  "required_linear_history": false,
  "allow_force_pushes": false,
  "allow_deletions": false,
  "block_creations": false,
  "required_conversation_resolution": true,
  "lock_branch": false,
  "allow_fork_syncing": true
}
